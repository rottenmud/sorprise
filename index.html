<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Bun</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@400;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;user-select:none}
html,body{
margin:0;
width:100%;
height:100vh;
overflow:hidden;
background:radial-gradient(circle,#fff0f5,#ffc3d9);
font-family:'Quicksand',sans-serif;
}

/* Canvas */
#canvas-bg{position:fixed;inset:0;z-index:1;pointer-events:none}

/* Start screen */
#start-screen{
position:fixed;inset:0;
background:#fff;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
z-index:999;
}
.heart-btn{
width:90px;height:90px;
background:#ff5f9e;
transform:rotate(45deg);
animation:pulse 1.4s infinite;
}
.heart-btn::before,.heart-btn::after{
content:"";width:90px;height:90px;
background:#ff5f9e;
border-radius:50%;
position:absolute;
}
.heart-btn::before{left:-45px}
.heart-btn::after{top:-45px}
.start-text{margin-top:60px;font-size:26px;color:#ff5f9e;font-family:'Dancing Script',cursive}
@keyframes pulse{50%{transform:rotate(45deg) scale(1.15)}}

/* Main */
.main-container{
position:relative;
width:100%;
height:100%;
display:flex;
flex-wrap:wrap;
opacity:0;
z-index:10;
}
.text-area,.flower-area{flex:1;display:flex;justify-content:center;align-items:center}

/* Card */
.card-box{
background:rgba(255,255,255,.75);
padding:30px;
border-radius:25px;
width:90%;
max-width:500px;
opacity:0;
transform:translateY(30px);
transition:1s;
white-space:pre-wrap;
}

/* Header */
.header-title{
position:absolute;top:5%;width:100%;text-align:center;
}
.header-title h1{
font-family:'Dancing Script',cursive;
font-size:60px;
background:linear-gradient(45deg,#ff5f9e,#ff9966);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
text-shadow:0 0 30px rgba(255,95,158,.6);
}
.header-title h2{letter-spacing:4px;color:#ff8fba}

/* Flower */
.flower-wrapper{
width:250px;height:350px;
display:flex;align-items:flex-end;
position:relative;
animation:sway 6s ease-in-out infinite;
}
@keyframes sway{
50%{transform:rotate(2deg)}
}

.stem{
width:10px;height:0;
background:linear-gradient(#4caf50,#66bb6a);
border-radius:5px;
transition:2s;
}
.flower-head{
position:absolute;
bottom:200px;left:50%;
transform:translateX(-50%) scale(0);
width:180px;height:180px;
transition:1.5s;
}
.petal{
position:absolute;width:90px;height:120px;
background:linear-gradient(#ffc3d9,#ff2e63);
border-radius:50% 50% 10% 10%;
}
.p1{transform:rotate(0deg)}
.p2{transform:rotate(60deg)}
.p3{transform:rotate(120deg)}
.p4{transform:rotate(180deg)}
.p5{transform:rotate(240deg)}
.p6{transform:rotate(300deg)}

.grow{height:220px}
.show{transform:translateX(-50%) scale(1)}
.show-card{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<audio id="bgMusic" loop src="https://cdn.pixabay.com/download/audio/2022/10/25/audio_27565e6650.mp3"></audio>
<canvas id="canvas-bg"></canvas>

<div id="start-screen">
<div class="heart-btn" id="startBtn"></div>
<div class="start-text">Tap to Open</div>
</div>

<div class="main-container" id="main">
<div class="text-area">
<div class="card-box" id="card"></div>
</div>
<div class="flower-area">
<div class="header-title"><h1>Bun</h1><h2>Happy Birthday</h2></div>
<div class="flower-wrapper">
<div class="stem" id="stem"></div>
<div class="flower-head" id="head">
<div class="petal p1"></div><div class="petal p2"></div><div class="petal p3"></div>
<div class="petal p4"></div><div class="petal p5"></div><div class="petal p6"></div>
</div>
</div>
</div>
</div>

<script>
const startScreen=document.getElementById("start-screen");
const startBtn=document.getElementById("startBtn");
const main=document.getElementById("main");
const bgMusic=document.getElementById("bgMusic");
const stem=document.getElementById("stem");
const head=document.getElementById("head");
const card=document.getElementById("card");

const msg=`Happy Birthday Bun

Alam mo, kahit anong mangyari, I will always "carrot" (care at) love you.

Pero seryoso, thank you, always. Enjoy your day today kasi deserve na deserve mo lahat ng treats at happiness sa mundo.

Stay cute and amazing always.

Happy Birthday!

From Plu ðŸ¥•ðŸ°`;

function unlockAudio(){
bgMusic.play().then(()=>{bgMusic.pause();bgMusic.currentTime=0;});
}

startBtn.onclick=()=>{
unlockAudio();
if(navigator.vibrate)navigator.vibrate([60,40,60,120]);

startScreen.style.opacity=0;
setTimeout(()=>startScreen.remove(),800);

main.style.opacity=1;
bgMusic.volume=.4;
bgMusic.play();

stem.classList.add("grow");
head.classList.add("show");

setTimeout(()=>{card.classList.add("show-card");type()},2200);
initParticles();
}

let i=0;
function type(){
if(i<msg.length){
card.textContent+=msg[i++];
setTimeout(type,40);
}
}

function initParticles(){
const c=document.getElementById("canvas-bg"),ctx=c.getContext("2d");
resize();window.onresize=resize;
let h=[];
for(let i=0;i<50;i++)spawn();

function spawn(){
h.push({x:Math.random()*c.width,y:c.height+Math.random()*c.height,s:Math.random()*10+8,v:Math.random()+.4,a:Math.random()*6});
}

function draw(){
ctx.clearRect(0,0,c.width,c.height);
h.forEach(o=>{
o.y-=o.v;
o.x+=Math.sin(o.a+=.01);
if(o.y<-50){o.y=c.height+50;o.x=Math.random()*c.width;}
drawHeart(o.x,o.y,o.s);
});
requestAnimationFrame(draw);
}
function drawHeart(x,y,s){
ctx.fillStyle="rgba(255,95,158,.5)";
ctx.beginPath();
ctx.moveTo(x,y);
ctx.bezierCurveTo(x-s,y-s,x-2*s,y+s,x,y+2*s);
ctx.bezierCurveTo(x+2*s,y+s,x+s,y-s,x,y);
ctx.fill();
}
draw();
function resize(){c.width=innerWidth;c.height=innerHeight;}
}
</script>

</body>
</html>
